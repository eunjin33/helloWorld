<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript/array_iterable2.html</title>
</head>
<body>
    <script>
        const members = [{
            name: '최선영', 
            score: 80
        },{
            name: '윤희성', 
            score: 85
        },{
            name: '김지인', 
            score: 89
        },{
            name: '홍길동', 
            score: 50
        }];
        document.write('<table border="1">');
            document.write('<tr><th>이름</th><th>점수</th><th>합격</th></tr>');
        //mapping, filter, forEach
        //pass: 60 넘으면 pass, 아니면 fail <= mapping
        //pass <= filter
        //name, score, pass <= document 이름, 점수, 합격 (테이블 형식)
        
    //     const persons =  members.map(function(obj, idx, ary){
    //         const pass = obj.score >=60 ? 'pass' : 'fail';
    //         const person = {
    //             name: obj.name,
    //             score: obj.score,
    //             pass: pass
    //         };
    //         return person;
    //     });

    //     const person60 = persons.filter(function(obj, idx, ary){
    //         return obj.score>=60;
    //     });
        
    // document.write('</table>');

     members.map(function(obj, idx, ary){
            const pass = obj.score >=60 ? 'pass' : 'fail';
            return {
                name: obj.name,
                score: obj.score,
                pass: pass
            }
        }).filter(function(obj, idx, ary){
            return obj.pass =='passs';
        }).forEach(function(obj, idx, ary) {
            document.write('<tr>');
                for(let field in obj){
                    document.write('<td>' + obj[field]+ '</td>');
                }
                document.write('</tr>');
        })
        document.write('</table>');



    </script>
</body>
</html>